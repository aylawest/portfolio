<div id="toggle" class="slider"></div>

<style>
  #toggle {
    position: relative;
    width: 60px;
    height: 30px;
    background-color: rgb(240, 240, 240);
    border-radius: 15px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .slider::after {
    content: '';
    position: absolute;
    width: 26px;
    height: 26px;
    background-color: rgb(44, 44, 44);
    border-radius: 50%;
    top: 2px;
    left: 2px;
    transition: transform 0.3s ease;
  }

  body.dark #toggle {
    background-color: var(--background-mod);
  }

  body.dark .slider::after {
    transform: translateX(30px);
    background-color: var(--body);
  }
</style>

<script>
  const body = document.body;
  const toggle = document.getElementById('toggle');

  function setMode() {
    const mode = localStorage.getItem('mode');
    if (mode === 'dark') {
      body.classList.add('dark');
    } else {
      body.classList.remove('dark');
    }
  }

  function toggleMode() {
    if (body.classList.contains('dark')) {
      body.classList.remove('dark');
      localStorage.setItem('mode', 'light');
    } else {
      body.classList.add('dark');
      localStorage.setItem('mode', 'dark');
    }
  }

  toggle.addEventListener('click', toggleMode);

  setMode();
</script>